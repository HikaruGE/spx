module str/to-stratego

imports
  libstratego-lib
	lib/editor-common.generated
imports
  include/SpoofaxLang
imports 
	common
	
rules

  to-str:
    (path, def) -> Module(name', sections)
    with
      name := <find-spoofax-module-name>;
      if !name => ParamName(n, p) then
        name' := n
      else
        Name(name') := name
      end;
      sections  := <collect-om(?STRSection(<id>), conc)> def
